<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fabevy | Communication site</title>
    <link rel="stylesheet" href="../../vendor/css/bootstrap.min.css">
    <!-- Ico-Fonts -->
    <link rel="stylesheet" type="text/css" href="../../icofont/icofont.min.css">
    <!-- Animation-Css -->
    <link rel="stylesheet" type="text/css" href="../../vendor/css/aos.css">
    <!-- Style-Link -->
    <link rel="stylesheet" type="text/css" href="../../css/styles.css">
    <style>
        iframe{
            border: none;
            width: 100%;
        }
		.job-section {
			min-height: 100vh;
		}
		footer{
		    background-color: #f6f6f6;
		}
		footer p{
			margin: 0;
			padding: 0 0 10px;
		}
    </style>
</head>
<body>
    <header class="header-section sticky-top">
        <div class="container-fulid  padd-30">
            <nav class="navbar navbar-expand-lg">
                <div class="row v-center justify-content-start w-100">
                    <div class="col-6 col-xl-2 col-lg-4">
                        <!-- <a href="index.html" class="navbar-brand"><img src="images/logo.png" alt="logo" class="img-fluid"></a> -->
                        <a href="../../index.html" class="navbar-brand"><img src="../../images/logo.png" alt="Talenz"></a>
                    </div>
                    <div class="col-6 col-xl-8 col-lg-8 ml-auto">
                        <div class="text-right">
                            <a href="" target="_blank" class="login-btn" id="assessment-link">Take Assesment</a>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
    </header>
    <!-- Jumbotron -->
    <section class="banner-section">
        <div class="container-fulid padd-30">
            <div class="banner-cont">
                <h1> Let's improve our <strong>Communication Skill.</strong></h1>
            </div>
        </div>
    </section>

    <section class="job-section">
        <div class="container-fulid padd-30">
            <div class="page-title text-center">
                <h4>Complete all given sessions before EOD of <u id="today">14/12/2023</u>.</h4>
            </div>
            <div class="job-list">
                <div class="row m-0 justify-content-center" id="video-wrapper">
                    <div class="col-12 col-lg-6 col-xl-4 col-md-6 pt-3 pb-3">
                        <div class="job-card h-100">
                            <div class="card-top">
                                <!-- <iframe width="100%" height="345" src="https://www.youtube.com/embed/FYiwER5CVj0"></iframe> -->
                                <iframe width="100%" height="345" src="https://www.youtube.com/embed/FYiwER5CVj0"></iframe>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-lg-6 col-xl-4 col-md-6 pt-3 pb-3">
                        <div class="job-card h-100">
                            <div class="card-top">
                                <iframe width="420" height="345" src="https://www.youtube.com/embed/FYiwER5CVj0">
                                </iframe>

                            </div>

                        </div>
                    </div>
                    <div class="col-12 col-lg-6 col-xl-4 col-md-6 pt-3 pb-3">
                        <div class="job-card h-100">
                            <div class="card-top">
                                <iframe width="420" height="345" src="https://www.youtube.com/embed/FYiwER5CVj0">
                                </iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
	<footer>
		<p class="text-center">&copy; Talenz.in 2021. All Rights Reserved.</p>
	</footer>
    <script>

        function generateVideoCard(videoid){
            let cardElement = document.createElement('div'),
                iFrame;
            cardElement.innerHTML = template;
            cardElement = cardElement.firstChild;
            iFrame = cardElement.getElementsByTagName('iframe')[0];
            iFrame.setAttribute('src', 'https://www.youtube.com/embed/'+videoid);
            videoWrapper.append(cardElement);
        }
		
		function updateNoVideo(){
			let cardElement = document.createElement('h1');
			cardElement.innerText = "No Task Today";
			videoWrapper.append(cardElement);
		}


        const template =  `<div class="col-12 col-lg-6 col-xl-6 col-md-6 pt-3 pb-3"> <div class="job-card h-100"> <div class="card-top"> <iframe width="420" height="545" src="https://www.youtube.com/embed/FYiwER5CVj0"> </iframe> </div> </div> </div> `;

		const videoWrapper = document.getElementById('video-wrapper');
		const assessmentLinkElement = document.getElementById('assessment-link');
		const deadlineElement = document.getElementById('today');
        videoWrapper.innerHTML = "";

        var videos = {
            "23/12/2022":['2Q0ZaLJZ8W0', 'dyKbmYynCtE'],
            "26/12/2022":['eyIQwxNn-IU', 'XuR-8yXrny4'],
            "27/12/2022":['RJEtNeaR7KM', 'SE5CP2GHz2g'],
            "28/12/2022":[''],
            "29/12/2022":[''],
            "30/12/2022":['']
        },
			assessments = {
			"26/12/2022": "https://forms.office.com/r/wRBqPmLHbm",
			"27/12/2022": "https://forms.office.com/r/yVfdJ58LMc",
			"28/12/2022": "https://forms.office.com/r/HqJSjAxAzx",
			"29/12/2022": "https://forms.office.com/r/RrEyVDRiDi",
			"30/12/2022": "https://forms.office.com/r/0frcGYNF7E",
			"03/1/2023": "https://forms.office.com/r/N080qT3PQc"
		}

        var today = new Date(),
            dateKey = `${today.getDate()}/${today.getMonth() + 1}/${today.getFullYear()}`;
		console.log(videos[dateKey]);
		if(videos[dateKey] !== undefined){
			videos[dateKey].forEach(generateVideoCard)
		}else{
			updateNoVideo();
		}
		console.log(dateKey, assessments[dateKey])
		
		//update Assessment Link & Deadline
		if(assessments[dateKey] !== undefined ){
			assessmentLinkElement.setAttribute('href', assessments[dateKey]);
			deadlineElement.innerText = dateKey;
		}else{
			assessmentLinkElement.style.display = "none";
			deadlineElement.parentNode.style.display = "none";
		}
		
</script>
</body>
</html>