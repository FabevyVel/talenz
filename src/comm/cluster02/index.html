<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fabevy | Communication site</title>
    <link rel="stylesheet" href="../../vendor/css/bootstrap.min.css">
    <!-- Ico-Fonts -->
    <link rel="stylesheet" type="text/css" href="../../icofont/icofont.min.css">
    <!-- Animation-Css -->
    <link rel="stylesheet" type="text/css" href="../../vendor/css/aos.css">
    <!-- Style-Link -->
    <link rel="stylesheet" type="text/css" href="../../css/styles.css">
    <style>
        iframe{
            border: none;
            width: 100%;
        }
		.job-section {
			min-height: 100vh;
		}
		footer{
		    background-color: #f6f6f6;
		}
		footer p{
			margin: 0;
			padding: 0 0 10px;
		}
    </style>
</head>
<body>
    <header class="header-section sticky-top">
        <div class="container-fulid  padd-30">
            <nav class="navbar navbar-expand-lg">
                <div class="row v-center justify-content-start w-100">
                    <div class="col-6 col-xl-2 col-lg-4">
                        <!-- <a href="index.html" class="navbar-brand"><img src="images/logo.png" alt="logo" class="img-fluid"></a> -->
                        <a href="../../index.html" class="navbar-brand"><img src="../../images/logo.png" alt="Talenz"></a>
                    </div>
                    <div class="col-6 col-xl-8 col-lg-8 ml-auto">
                        <div class="text-right">
                            <a href="" target="_blank" class="login-btn" id="assessment-link">Take Assesment</a>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
    </header>
    <!-- Jumbotron -->
    <section class="banner-section">
        <div class="container-fulid padd-30">
            <div class="banner-cont">
                <h1> Let's improve our <strong>Communication Skill.</strong></h1>
            </div>
        </div>
    </section>

    <section class="job-section">
        <div class="container-fulid padd-30">
            <div class="page-title text-center">
                <h4>Complete all given sessions before EOD of <u id="today">14/12/2023</u>.</h4>
            </div>
            <div class="job-list">
                <div class="row m-0 justify-content-center" id="video-wrapper">
                    <div class="col-12 col-lg-6 col-xl-4 col-md-6 pt-3 pb-3">
                        <div class="job-card h-100">
                            <div class="card-top">
                                <!-- <iframe width="100%" height="345" src="https://www.youtube.com/embed/FYiwER5CVj0"></iframe> -->
                                <iframe width="100%" height="345" src="https://www.youtube.com/embed/FYiwER5CVj0"></iframe>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-lg-6 col-xl-4 col-md-6 pt-3 pb-3">
                        <div class="job-card h-100">
                            <div class="card-top">
                                <iframe width="420" height="345" src="https://www.youtube.com/embed/FYiwER5CVj0">
                                </iframe>

                            </div>

                        </div>
                    </div>
                    <div class="col-12 col-lg-6 col-xl-4 col-md-6 pt-3 pb-3">
                        <div class="job-card h-100">
                            <div class="card-top">
                                <iframe width="420" height="345" src="https://www.youtube.com/embed/FYiwER5CVj0">
                                </iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
	<footer>
		<p class="text-center">&copy; Talenz.in 2021. All Rights Reserved.</p>
	</footer>
    <script>

        function generateVideoCard(videoid){
            let cardElement = document.createElement('div'),
                iFrame;
            cardElement.innerHTML = template;
            cardElement = cardElement.firstChild;
            cardElement.classList.add("col-12", "col-lg-6", "col-xl-6", "col-md-6","pt-3","pb-3");
            iFrame = cardElement.getElementsByTagName('iframe')[0];
            iFrame.setAttribute('src', 'https://www.youtube.com/embed/'+videoid);
            videoWrapper.append(cardElement);
        }
		
		function updateNoVideo(){
			let cardElement = document.createElement('h1');
			cardElement.innerText = "No Task Today";
			videoWrapper.append(cardElement);
		}


        const template =  `<div> <div class="job-card h-100"> <div class="card-top"> <iframe width="420" height="545" src="https://www.youtube.com/embed/FYiwER5CVj0"> </iframe> </div> </div> </div> `;

		const videoWrapper = document.getElementById('video-wrapper');
		const assessmentLinkElement = document.getElementById('assessment-link');
		const deadlineElement = document.getElementById('today');
        videoWrapper.innerHTML = "";

        var videos = {
            "23/1/2023":['FYiwER5CVj0'],
            "24/1/2023":['c5fS2NyY0dA'],
            "25/1/2023":['Wj6cDzJVrDY'],
            "26/1/2023":['rhZetIMVHVI'],
            "27/1/2023":['JWWLOg54K-8'],
            "28/1/2023":['JWWLOg54K-8'],
            "29/1/2023":['JWWLOg54K-8'],
            "30/1/2023":['XJXy31v0Gdo'],
            "31/1/2023":['VSnnRb3lC-A'],
            "1/2/2023":['2Q0ZaLJZ8W0','dyKbmYynCtE'],
            "2/2/2023":['eyIQwxNn-IU', 'XuR-8yXrny4'],
            "3/2/2023":['RJEtNeaR7KM','SE5CP2GHz2g'],
            "4/2/2023":['RJEtNeaR7KM','SE5CP2GHz2g'],
            "5/2/2023":['RJEtNeaR7KM','SE5CP2GHz2g'],
            "6/2/2023":['z34lG9kA7fU','pWm3v8SSx4s']
        
        },
        
        
			assessments = {
			"24/1/2023": "https://forms.office.com/r/q1cKT38rWf",
			"25/1/2023": "https://forms.office.com/r/BcKJpUcryW",
			"26/1/2023": "https://forms.office.com/r/Qvm6RpnVyW",
			"27/1/2023": "https://forms.office.com/r/B5xpbXJAkq",
			"30/1/2023": "https://forms.office.com/r/YC2Z6Z7YRc",
			"31/1/2023": "https://forms.office.com/r/3gim78rCJe",
			"1/2/2023": "https://forms.office.com/r/wRBqPmLHbm",
			"2/2/2023": "https://forms.office.com/r/yVfdJ58LMc",
			"3/2/2023": "https://forms.office.com/r/HqJSjAxAzx",
			"6/2/2023": "https://forms.office.com/r/RrEyVDRiDi"
		}

        var today = new Date(),
            dateKey = `${today.getDate()}/${today.getMonth() + 1}/${today.getFullYear()}`;
            console.log(dateKey);
		console.log(videos[dateKey]);
		if(videos[dateKey] !== undefined){
			videos[dateKey].forEach(generateVideoCard);
		}else{
			updateNoVideo();
		}
		console.log(dateKey, assessments[dateKey])
		
		//update Assessment Link & Deadline
		if(assessments[dateKey] !== undefined ){
			assessmentLinkElement.setAttribute('href', assessments[dateKey]);
			deadlineElement.innerText = dateKey;
		}else{
			assessmentLinkElement.style.display = "none";
			deadlineElement.parentNode.style.display = "none";
		}
		
</script>
</body>
</html>